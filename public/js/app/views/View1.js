// Generated by CoffeeScript 1.3.3
(function() {

  define(["zepto", "backbone", "models/Model", "text!templates/View1.html"], function($, Backbone, Model, template) {
    var View1;
    return View1 = Backbone.View.extend({
      el: "body",
      initialize: function() {
        return this.render();
      },
      events: {},
      render: function() {
        this.template = _.template(template, {});
        this.$el.html(this.template);
        return this;
      },
      show: function() {
        var $old, direction_coefficient, _ref;
        $('.page').css({
          position: "absolute"
        });
        direction_coefficient = (_ref = this.options.back) != null ? _ref : {
          1: -1
        };
        if ($('.page').length) {
          $old = $('.page').not(this.el);
          $old.get(0).style["margin-left"] = "";
          $old.get(0).style["-webkit-transform"] = "";
          this.$el.appendTo('body').hide();
          this.$el.show().css({
            "margin-left": 320 * direction_coefficient
          });
          this.$el.anim({
            translate3d: -320 * direction_coefficient(+'px,0,0')
          }, 0.3, 'linear');
          $old.anim({
            translate3d: -320 * direction_coefficient + 'px,0,0'
          }, 0.3, 'linear', function() {
            $old.remove();
            return $('.page').css({
              position: "static"
            });
          });
        } else {
          this.$el.appendTo('body').hide();
          this.$el.show();
        }
        return window.scrollTo(0, 0);
      }
    });
  });

}).call(this);
